{
  "name": "CacheHit Dev Container",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "backend",
  "workspaceFolder": "/app",

  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/node:1": {
      "version": "20"
    }
  },

  "forwardPorts": [8000, 5173],

  "mounts": [
    "source=${localEnv:HOME}/.config/nvim,target=/root/.config/nvim,type=bind,readonly"
  ],

  "postCreateCommand": "apt-get update && apt-get install -y neovim ripgrep fd-find git curl && uv sync",

  "remoteUser": "root"
}
